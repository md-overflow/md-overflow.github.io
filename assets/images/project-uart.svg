<svg xmlns="http://www.w3.org/2000/svg" width="800" height="400" viewBox="0 0 800 400">
  <rect width="800" height="400" fill="#0a0f1a"/>
  <defs>
    <pattern id="g2" width="36" height="36" patternUnits="userSpaceOnUse">
      <path d="M 36 0 L 0 0 0 36" fill="none" stroke="#0066ff" stroke-width="0.4"/>
    </pattern>
  </defs>
  <rect width="800" height="400" fill="url(#g2)" opacity="0.1"/>
  <!-- Pipeline stages -->
  <g font-family="monospace" font-size="11" fill="#7a8fa6">
    <!-- IF -->
    <rect x="40" y="150" width="110" height="100" rx="4" fill="#111c2d" stroke="#0066ff" stroke-width="1.5"/>
    <text x="95" y="196" text-anchor="middle" fill="#00c8ff" font-size="13" font-weight="bold">IF</text>
    <text x="95" y="213" text-anchor="middle" font-size="9">Instruction</text>
    <text x="95" y="226" text-anchor="middle" font-size="9">Fetch</text>
    <!-- ID -->
    <rect x="175" y="150" width="110" height="100" rx="4" fill="#111c2d" stroke="#0066ff" stroke-width="1.5"/>
    <text x="230" y="196" text-anchor="middle" fill="#00c8ff" font-size="13" font-weight="bold">ID</text>
    <text x="230" y="213" text-anchor="middle" font-size="9">Instruction</text>
    <text x="230" y="226" text-anchor="middle" font-size="9">Decode</text>
    <!-- EX -->
    <rect x="310" y="150" width="110" height="100" rx="4" fill="#131e30" stroke="#00c8ff" stroke-width="2"/>
    <text x="365" y="196" text-anchor="middle" fill="#00c8ff" font-size="13" font-weight="bold">EX</text>
    <text x="365" y="213" text-anchor="middle" font-size="9">Execute</text>
    <text x="365" y="226" text-anchor="middle" font-size="9">ALU Ops</text>
    <!-- MEM -->
    <rect x="445" y="150" width="110" height="100" rx="4" fill="#111c2d" stroke="#0066ff" stroke-width="1.5"/>
    <text x="500" y="196" text-anchor="middle" fill="#00c8ff" font-size="13" font-weight="bold">MEM</text>
    <text x="500" y="213" text-anchor="middle" font-size="9">Memory</text>
    <text x="500" y="226" text-anchor="middle" font-size="9">Access</text>
    <!-- WB -->
    <rect x="580" y="150" width="110" height="100" rx="4" fill="#111c2d" stroke="#0066ff" stroke-width="1.5"/>
    <text x="635" y="196" text-anchor="middle" fill="#00c8ff" font-size="13" font-weight="bold">WB</text>
    <text x="635" y="213" text-anchor="middle" font-size="9">Write</text>
    <text x="635" y="226" text-anchor="middle" font-size="9">Back</text>
  </g>
  <!-- Arrows between stages -->
  <line x1="150" y1="200" x2="175" y2="200" stroke="#00c8ff" stroke-width="2" marker-end="url(#arr)"/>
  <line x1="285" y1="200" x2="310" y2="200" stroke="#00c8ff" stroke-width="2"/>
  <line x1="420" y1="200" x2="445" y2="200" stroke="#00c8ff" stroke-width="2"/>
  <line x1="555" y1="200" x2="580" y2="200" stroke="#00c8ff" stroke-width="2"/>
  <!-- Hazard detection -->
  <rect x="220" y="50" width="160" height="32" rx="4" fill="#0d1420" stroke="rgba(255,200,0,0.4)" stroke-width="1"/>
  <text x="300" y="71" font-family="monospace" font-size="10" fill="#ffc000" text-anchor="middle">Hazard Detection Unit</text>
  <line x1="300" y1="82" x2="300" y2="150" stroke="rgba(255,200,0,0.3)" stroke-width="1" stroke-dasharray="3,2"/>
  <!-- Forwarding -->
  <path d="M 500 250 Q 500 310 365 310 Q 230 310 230 250" fill="none" stroke="rgba(0,255,136,0.35)" stroke-width="1.5" stroke-dasharray="4,3"/>
  <text x="365" y="340" font-family="monospace" font-size="10" fill="rgba(0,255,136,0.6)" text-anchor="middle">Data Forwarding Path</text>
  <!-- Title -->
  <text x="400" y="380" font-family="monospace" font-size="11" fill="#3a5a70" text-anchor="middle">RISC-V RV32I · 5-Stage Pipeline · Basys3 FPGA</text>
</svg>
